{"version":3,"file":"js/app.18b34a13.js","mappings":"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","sources":["webpack://cybercells/./src/gl/ShaderManager.ts","webpack://cybercells/./src/shaders/common.vert","webpack://cybercells/./src/shaders/background.frag","webpack://cybercells/./src/shaders/cell.frag","webpack://cybercells/./src/geom/Vector2.ts","webpack://cybercells/./src/render/WorldRenderer.ts","webpack://cybercells/./src/game/event/WorldMouseEvent.ts","webpack://cybercells/./src/component/WorldViewer.vue?b6c6","webpack://cybercells/./src/component/WorldViewer.vue","webpack://cybercells/./src/component/properties/PropertiesTabbedPanel.vue?3591","webpack://cybercells/./src/component/properties/PropertiesTabbedPanel.vue","webpack://cybercells/./src/component/properties/PropertiesTab.vue?d676","webpack://cybercells/./src/component/properties/PropertiesTab.vue","webpack://cybercells/./src/component/ToolButton.vue?95b1","webpack://cybercells/./src/component/ToolButton.vue","webpack://cybercells/./src/component/properties/PropertiesTabBody.vue?2f09","webpack://cybercells/./src/component/properties/PropertiesTabBody.vue","webpack://cybercells/./src/component/properties/PropertiesSection.vue?1a5d","webpack://cybercells/./src/component/properties/PropertiesSection.vue","webpack://cybercells/./src/component/input/NumberSlider.vue?bb1e","webpack://cybercells/./src/component/input/NumberSlider.vue","webpack://cybercells/./src/component/input/SliderWithNumberInput.vue?7062","webpack://cybercells/./src/component/input/SliderWithNumberInput.vue","webpack://cybercells/./src/component/input/InputLabel.vue","webpack://cybercells/./src/component/input/InputLabel.vue?e8ad","webpack://cybercells/./src/component/WorldSettings.vue?daf4","webpack://cybercells/./src/component/WorldSettings.vue","webpack://cybercells/./src/game/world/object/Food.ts","webpack://cybercells/./src/game/world/object/Cell.ts","webpack://cybercells/./src/game/world/object/Wall.ts","webpack://cybercells/./src/game/CellType.ts","webpack://cybercells/./src/game/Genome.ts","webpack://cybercells/./src/game/Camera.ts","webpack://cybercells/./src/game/world/World.ts","webpack://cybercells/./src/component/genome/CellGenomePreview.vue?bc20","webpack://cybercells/./src/component/genome/CellGenomePreview.vue","webpack://cybercells/./src/component/genome/GenomeSelector.vue?f571","webpack://cybercells/./src/component/genome/GenomeSelector.vue","webpack://cybercells/./src/component/properties/PropertiesSubheader.vue","webpack://cybercells/./src/component/properties/PropertiesSubheader.vue?130a","webpack://cybercells/./src/component/genome/GenomePigmentColorDropletIcon.vue?210e","webpack://cybercells/./src/component/genome/GenomePigmentColorDropletIcon.vue","webpack://cybercells/./src/component/genome/GenomePigmentsEditor.vue?681e","webpack://cybercells/./src/component/genome/GenomePigmentsEditor.vue","webpack://cybercells/./src/component/genome/GenomeEditor.vue?1405","webpack://cybercells/./src/component/genome/GenomeEditor.vue","webpack://cybercells/./src/component/genome/GenomeLibraryEditor.vue?f406","webpack://cybercells/./src/component/genome/GenomeLibraryEditor.vue","webpack://cybercells/./src/component/ControlsPanel.vue?2b9c","webpack://cybercells/./src/component/ControlsPanel.vue","webpack://cybercells/./src/game/GenomeLibrary.ts","webpack://cybercells/./src/AppPreferences.ts","webpack://cybercells/./src/game/tool/ToolsManager.ts","webpack://cybercells/./src/game/tool/AddCellTool.ts","webpack://cybercells/./src/game/tool/RemoveCellTool.ts","webpack://cybercells/./src/game/tool/SelectionTool.ts","webpack://cybercells/./src/App.vue?2a5e","webpack://cybercells/./src/App.vue","webpack://cybercells/./src/main.ts","webpack://cybercells/webpack/bootstrap","webpack://cybercells/webpack/runtime/chunk loaded","webpack://cybercells/webpack/runtime/compat get default export","webpack://cybercells/webpack/runtime/define property getters","webpack://cybercells/webpack/runtime/global","webpack://cybercells/webpack/runtime/hasOwnProperty shorthand","webpack://cybercells/webpack/runtime/publicPath","webpack://cybercells/webpack/runtime/jsonp chunk loading","webpack://cybercells/webpack/startup"],"sourcesContent":["export default class ShaderManager {\n    private constructor(\n        public readonly gl: WebGL2RenderingContext\n    ) {}\n\n    static init(canvas: HTMLCanvasElement): ShaderManager {\n        const gl = canvas.getContext('webgl2', {\n            powerPreference: 'high-performance'\n        })\n\n        if (gl == null)\n            throw new Error(\"Unable to initialize WebGL!\")\n\n        return new ShaderManager(gl)\n    }\n\n    newShader(vertexShaderSource: string, fragmentShaderSource: string): WebGLProgram {\n        const vertexShader = this.loadShader(this.gl.VERTEX_SHADER, vertexShaderSource)\n        const fragmentShader = this.loadShader(this.gl.FRAGMENT_SHADER, fragmentShaderSource)\n\n        const shaderProgram = this.gl.createProgram()!\n        this.gl.attachShader(shaderProgram, vertexShader)\n        this.gl.attachShader(shaderProgram, fragmentShader)\n        this.gl.linkProgram(shaderProgram)\n\n        if (!this.gl.getProgramParameter(shaderProgram, this.gl.LINK_STATUS)) {\n            throw new Error(`Couldn't link shaders! Logs:\\n${this.gl.getProgramInfoLog(shaderProgram)}`)\n        }\n\n        return shaderProgram\n    }\n\n    newTexture(width: number, height: number): WebGLTexture | null {\n        const texture = this.gl.createTexture();\n        this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n        this.gl.texImage2D(\n            this.gl.TEXTURE_2D, 0, this.gl.RGBA, width, height,\n            0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, null\n        );\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n        return texture\n    }\n\n    newArrayBuffer(data: number[]): WebGLBuffer {\n        const buffer = this.gl.createBuffer()\n        if (buffer == null)\n            throw new Error(\"Could not create buffer\")\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, buffer)\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array(data), this.gl.STATIC_DRAW)\n        return buffer\n    }\n\n    destroy() {\n        this.gl.getExtension(\"WEBGL_lose_context\")!.loseContext();\n    }\n\n    private loadShader(type: number, source: string): WebGLShader {\n        const shader = this.gl.createShader(type)!\n        this.gl.shaderSource(shader, source)\n        this.gl.compileShader(shader)\n\n        if (!this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS)) {\n            throw new Error(`Couldn't compile shaders! Logs:\\n\\n${this.gl.getShaderInfoLog(shader)}`)\n        }\n\n        return shader\n    }\n}","export default \"#version 300 es\\n\\nin vec4 vertexPosition;\\nin vec2 textureCoordinate;\\nout vec2 texel;\\n\\nvoid main() {\\n    gl_Position = vertexPosition;\\n    texel = textureCoordinate;\\n}\";","export default \"#version 300 es\\n\\nprecision highp float;\\nprecision highp sampler2D;\\n\\nconst float CHECKER_SIZE = 25.0;\\nconst vec4 LIGHT_COLOR = vec4(0.88, 0.88, 1, 1);\\n\\nuniform mat4 viewMatrix;\\nuniform float time;\\nuniform vec2 areaSize;\\n\\nuniform float lightIntensity;\\n\\nout vec4 color;\\n\\nvec4 lightFunction(float x, float y) {\\n    return vec4(0, 0, 0, 0);\\n}\\n\\nvoid main() {\\n    vec4 fragment = viewMatrix * gl_FragCoord;\\n    float x = fragment.x;\\n    float y = fragment.y;\\n\\n    float value = mod(floor(x/CHECKER_SIZE) + floor(y/CHECKER_SIZE), 2.0) == 0.0 ? 0.4 : 0.2;\\n    color = vec4(0.4, 0.7, 0.9, 1);\\n    color = mix(color, lightFunction(x, y), lightIntensity);\\n\\n    if (x < 0.0 || y < 0.0 || x >= areaSize.x || y >= areaSize.y)\\n        color = mix(color, vec4(0, 0, 0, 1), 0.2);\\n}\";","export default \"#version 300 es\\n\\nprecision highp float;\\nprecision highp sampler2D;\\n\\nconst float CELL_BORDER_WIDTH = 2.0;\\n\\nstruct Cell {\\n    int id;\\n    vec2 center;\\n    vec2 speed;\\n    float mass;\\n    float angle;\\n    float radius;\\n    vec4 bodyRgba;\\n};\\n\\nuniform sampler2D image;\\nuniform vec2 imageSize;\\nuniform mat4 viewMatrix;\\nuniform float time;\\n\\nuniform Cell cell;\\n\\nin vec2 texel;\\nout vec4 color;\\n\\nvec4 previousLayerColor(float x, float y) {\\n    vec2 imagePixelSize = vec2(1.0, 1.0) / imageSize;\\n    return texture(image, vec2(texel.x + x * imagePixelSize.x, texel.y + y * imagePixelSize.y));\\n}\\n\\nvoid main() {\\n    vec4 fragment = viewMatrix * gl_FragCoord;\\n    float x = fragment.x;\\n    float y = fragment.y;\\n\\n    vec2 imagePixelSize = vec2(1.0, 1.0) / imageSize;\\n\\n    vec4 background = texture(image, texel);\\n    vec4 layerColor = vec4(0);\\n\\n    vec4 borderColor = mix(cell.bodyRgba, vec4(0, 0, 0, 1), 0.25);\\n    float centerDistance = sqrt(pow(x - cell.center.x, 2.0) + pow(y - cell.center.y, 2.0));\\n\\n    if (centerDistance < cell.radius){\\n        layerColor = cell.bodyRgba;\\n        if (centerDistance > cell.radius - CELL_BORDER_WIDTH)\\n            layerColor = borderColor;\\n    }\\n\\n    color = mix(background, vec4(layerColor.rgb, 1), layerColor.a);\\n}\";","const { sqrt, pow, sin, cos, acos, PI } = Math\n\nexport default class Vector2 {\n    x: number\n    y: number\n\n    constructor(x: number = 0, y: number = 0) {\n        this.x = x\n        this.y = y\n    }\n\n    get length(): number {\n        return sqrt(pow(this.x, 2) + pow(this.y, 2))\n    }\n\n    plus(that: Vector2): Vector2 {\n        return new Vector2(this.x + that.x, this.y + that.y)\n    }\n\n    minus(that: Vector2): Vector2 {\n        return new Vector2(this.x - that.x, this.y - that.y)\n    }\n\n    times(factor: Vector2 | number): Vector2 {\n        if (factor instanceof Vector2)\n            return new Vector2(this.x * factor.y, this.y * factor.y);\n        else\n            return new Vector2(this.x * factor, this.y * factor);\n    }\n\n    div(factor: Vector2 | number): Vector2 {\n        if (factor instanceof Vector2)\n            return new Vector2(this.x / factor.y, this.x / factor.y);\n        else\n            return new Vector2(this.x / factor, this.y / factor);\n    }\n\n    get negative(): Vector2 {\n        return new Vector2(-this.x, -this.y)\n    }\n\n    dot(that: Vector2): number {\n        return this.x * that.x + this.y + that.y\n    }\n\n    to(that: Vector2): Vector2 {\n        return that.minus(this)\n    }\n\n    nearest(...vectors: Array<Vector2>): Vector2 {\n        return vectors.reduce((a, b) => this.distance(a) > this.distance(b) ? b : a)\n    }\n\n    /**\n     * This method calculates the shortest turn direction needed\n     * to get from this vector's angle to that vector's angle.\n     * \n     * @returns 1 if direction is counterclockwise, -1 otherwise\n     */\n    shortestAngularTurn(that: Vector2): number {\n        const diff = that.angle - this.angle\n        return (diff < -PI || diff >= 0.0 && diff < PI) ? 1 : -1\n    }\n\n    positiveAngleDiff(that: Vector2): number {\n        return (this.angle - that.angle + 2*PI) % (2*PI)\n    }\n\n    get angle(): number {\n        return this.y > 0 ? 2*PI - acos(this.x/this.length) : acos(this.x/this.length)\n    }\n\n    get angleSafe(): number {\n        return this.length != 0 ? this.angle : 0\n    }\n\n    distance(that: Vector2): number {\n        return sqrt(pow(this.x - that.x, 2) + pow(this.y - that.y, 2))\n    }\n\n    isNaN() {\n        return isNaN(this.x) || isNaN(this.y);\n    }\n\n    /**\n     * Returns a new vector rotated by given amount of radians.\n     * The positive argument is counterclockwise rotation.\n     */\n    rotate(radians: number): Vector2 {\n        return new Vector2(this.x * cos(radians) - this.y * sin(radians), this.x * sin(radians) + this.y * cos(radians))\n    }\n\n    get unit(): Vector2 {\n        return this.length != 0 ? new Vector2(this.x/this.length, this.y/this.length) : new Vector2()\n    }\n\n    static isNaN(vector: Vector2): boolean {\n        return isNaN(vector.x) || isNaN(vector.y)\n    }\n\n    static unit(radians: number): Vector2 {\n        return new Vector2(cos(radians), sin(radians))\n    }\n\n    static equals(a?: Vector2, b?: Vector2): boolean {\n        if (a == null && b == null)\n            return true\n        if (a == null || b == null)\n            return false\n        return a.x == b.x && a.y == b.y\n    }\n}","import ShaderManager from \"@/gl/ShaderManager\";\nimport { mat4, vec2 } from 'gl-matrix';\n\nimport World from \"@/game/world/World\";\n\nimport commonVertexShaderSource from 'raw-loader!@/shaders/common.vert';\nimport backgroundFragmentShaderSource from 'raw-loader!@/shaders/background.frag';\nimport cellFragmentShaderSource from 'raw-loader!@/shaders/cell.frag';\nimport Vector2 from \"@/geom/Vector2\";\n\nexport default class WorldRenderer {\n    private readonly startTime = Date.now()\n\n    private readonly mainMesh: WebGLBuffer\n    private readonly drawBufferTextureUv: WebGLBuffer\n    private readonly framebuffer: WebGLFramebuffer | null\n\n    private bufferTextureSize: Vector2 = new Vector2()\n    private sourceBufferTexture: WebGLTexture | null = null\n    private targetBufferTexture: WebGLTexture | null = null\n\n    public config = {\n        layers: {\n            background: true,\n            walls: true,\n            cells: true\n        }\n    }\n\n    private constructor(\n        private shaderManager: ShaderManager,\n        private backgroundShader: WebGLShader,\n        private cellShader: WebGLShader,\n        public worldState: World | null = null\n    ) {\n        this.mainMesh = this.createMainMesh()\n        this.drawBufferTextureUv = this.createDrawBufferTextureUv()\n        this.framebuffer = shaderManager.gl.createFramebuffer()\n        this.autoUpdateDrawBufferTexture()\n    }\n\n    static init(canvas: HTMLCanvasElement, worldState: World | null = null): WorldRenderer {\n        const shaderManager = ShaderManager.init(canvas);\n\n        const backgroundShader = shaderManager.newShader(commonVertexShaderSource, backgroundFragmentShaderSource)\n        const cellShader = shaderManager.newShader(commonVertexShaderSource, cellFragmentShaderSource)\n        return new WorldRenderer(shaderManager, backgroundShader, cellShader, worldState)\n    }\n\n    render() {\n        const gl = this.shaderManager.gl\n        gl.clearColor(0, 0, 0, 0)\n        gl.clearDepth(1)\n        gl.enable(gl.DEPTH_TEST)\n        gl.depthFunc(gl.LEQUAL)\n\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT)\n        gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight)\n\n        if (this.config.layers.background)\n            this.renderBackground()\n        if (this.config.layers.cells)\n            this.renderCells()\n    }\n\n    /**\n     * From world coordinates to screen coordinates\n     */\n    project(worldPoint: vec2): vec2 {\n        const projection = this.buildCameraTransform()\n        const inverted = mat4.invert(projection, projection)\n        return vec2.transformMat4(vec2.create(), worldPoint, inverted)\n    }\n\n    /**\n     * From screen coordinates to world coordinates\n     */\n    unproject(screenPoint: vec2): vec2 {\n        return vec2.transformMat4(vec2.create(), screenPoint, this.buildCameraTransform())\n    }\n\n    destroy() {\n        this.shaderManager.destroy();\n    }\n\n    private renderCells() {\n        if (!this.worldState)\n            return\n\n        const gl = this.shaderManager.gl\n        gl.useProgram(this.cellShader)\n\n        const vertexAttributeLoc = gl.getAttribLocation(this.cellShader, 'vertexPosition')\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.mainMesh)\n        gl.vertexAttribPointer(vertexAttributeLoc, 2, gl.FLOAT, false, 0, 0)\n        gl.enableVertexAttribArray(vertexAttributeLoc)\n\n        const viewMatrix = this.buildViewTransform()\n        gl.uniformMatrix4fv(gl.getUniformLocation(this.cellShader, 'viewMatrix'), false, viewMatrix)\n        gl.uniform1f(gl.getUniformLocation(this.cellShader, 'time'), (Date.now() - this.startTime)/1000)\n\n        gl.uniform2f(gl.getUniformLocation(this.cellShader, 'imageSize'), this.bufferTextureSize.x, this.bufferTextureSize.y)\n\n        for (const [index, cell] of this.worldState.cells) {\n            const cellRgba = WorldRenderer.cellPigmentsToRgba(\n                cell.genome.cyanPigment,\n                cell.genome.magentaPigment,\n                cell.genome.yellowPigment,\n                cell.genome.whitePigment\n            )\n\n            gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer)\n            gl.bindTexture(gl.TEXTURE_2D, this.sourceBufferTexture)\n            gl.uniform1i(gl.getUniformLocation(this.cellShader, 'image'), 0)\n\n            gl.uniform1i(gl.getUniformLocation(this.cellShader, 'cell.id'), cell.id);\n            gl.uniform2f(gl.getUniformLocation(this.cellShader, 'cell.center'), cell.center.x, cell.center.y);\n            gl.uniform2f(gl.getUniformLocation(this.cellShader, 'cell.speed'), cell.speed.x, cell.speed.y);\n            gl.uniform1f(gl.getUniformLocation(this.cellShader, 'cell.mass'), cell.mass);\n            gl.uniform1f(gl.getUniformLocation(this.cellShader, 'cell.angle'), cell.angle);\n            gl.uniform1f(gl.getUniformLocation(this.cellShader, 'cell.radius'), cell.radius);\n            gl.uniform4f(gl.getUniformLocation(this.cellShader, 'cell.bodyRgba'), ...cellRgba);\n\n            if (index == this.worldState.cells.size - 1)\n                this.setDrawToCanvas()\n            else\n                this.setDrawToBufferTexture()\n\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4)\n\n            this.swapBuffers()\n        }\n    }\n\n    private renderBackground() {\n        if (!this.worldState)\n            return\n\n        const gl = this.shaderManager.gl\n        gl.useProgram(this.backgroundShader)\n\n        const vertexAttributeLoc = gl.getAttribLocation(this.backgroundShader, 'vertexPosition')\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.mainMesh)\n        gl.vertexAttribPointer(vertexAttributeLoc, 2, gl.FLOAT, false, 0, 0)\n        gl.enableVertexAttribArray(vertexAttributeLoc)\n\n        const textureCoordinateLoc = gl.getAttribLocation(this.backgroundShader, 'textureCoordinate')\n        gl.enableVertexAttribArray(textureCoordinateLoc)\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.drawBufferTextureUv)\n        gl.vertexAttribPointer(textureCoordinateLoc, 2, gl.FLOAT, false, 0, 0)\n\n        const viewMatrix = this.buildViewTransform()\n        gl.uniformMatrix4fv(gl.getUniformLocation(this.backgroundShader, 'viewMatrix'), false, viewMatrix)\n        gl.uniform1f(gl.getUniformLocation(this.backgroundShader, 'time'), (Date.now() - this.startTime)/1000)\n        gl.uniform2f(gl.getUniformLocation(this.backgroundShader, 'areaSize'), this.worldState.width, this.worldState.height)\n        gl.uniform1f(gl.getUniformLocation(this.backgroundShader, 'lightIntensity'), this.worldState.lightIntensity)\n\n        this.setDrawToBufferTexture()\n\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4)\n\n        this.swapBuffers()\n    }\n\n    private buildCameraTransform(): mat4 {\n        if (!this.worldState)\n            throw new Error(\"Can't build camera transform: the world state is not set in renderer!\")\n\n        const canvasWidth = this.shaderManager.gl.canvas.width\n        const canvasHeight = this.shaderManager.gl.canvas.height\n\n        const result = mat4.create()\n        const camera = this.worldState.camera\n        const scale = camera.height/canvasHeight\n        mat4.scale(result, result, [scale, scale, 1])\n        mat4.translate(result, result, [camera.center.x/scale - canvasWidth/2, camera.center.y/scale - canvasHeight/2, 0])\n        return result\n    }\n\n    private buildViewTransform(): mat4 {\n        const canvasHeight = this.shaderManager.gl.canvas.height\n\n        const result = this.buildCameraTransform()\n        mat4.scale(result, result, [1, -1, 1])\n        mat4.translate(result, result, [0, -canvasHeight, 0])\n        return result\n    }\n\n    private autoUpdateDrawBufferTexture() {\n        if (this.drawBufferTextureNeedsUpdate()) {\n            const gl = this.shaderManager.gl\n\n            gl.deleteTexture(this.sourceBufferTexture)\n            gl.deleteTexture(this.targetBufferTexture)\n\n            const width = this.shaderManager.gl.drawingBufferWidth\n            const height = this.shaderManager.gl.drawingBufferHeight\n\n            this.sourceBufferTexture = this.shaderManager.newTexture(width, height)\n            this.targetBufferTexture = this.shaderManager.newTexture(width, height)\n\n            this.bufferTextureSize = new Vector2(width, height)\n        }\n    }\n\n    private drawBufferTextureNeedsUpdate(): boolean {\n        return  this.bufferTextureSize.x != this.shaderManager.gl.drawingBufferWidth ||\n                this.bufferTextureSize.y != this.shaderManager.gl.drawingBufferHeight\n    }\n\n    private setDrawToBufferTexture() {\n        this.autoUpdateDrawBufferTexture()\n        const gl = this.shaderManager.gl\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.targetBufferTexture, 0)\n    }\n\n    private setDrawToCanvas() {\n        this.shaderManager.gl.bindFramebuffer(this.shaderManager.gl.FRAMEBUFFER, null);\n    }\n\n    private swapBuffers() {\n        const swap = this.sourceBufferTexture\n        this.sourceBufferTexture = this.targetBufferTexture\n        this.targetBufferTexture = swap\n    }\n\n    private createDrawBufferTextureUv() {\n        return this.shaderManager.newArrayBuffer([\n            1.0,  1.0,\n            0.0,  1.0,\n            1.0,  0.0,\n            0.0,  0.0,\n        ])\n    }\n\n    private createMainMesh(): WebGLBuffer {\n        return this.shaderManager.newArrayBuffer([\n            1.0, 1.0,\n            -1.0, 1.0,\n            1.0, -1.0,\n            -1.0, -1.0\n        ])\n    }\n\n    private static cellPigmentsToRgba(\n        cyan: number,\n        magenta: number,\n        yellow: number,\n        white: number\n    ): [number, number, number, number] {\n        const [r, g, b] = [1 - cyan, 1 - magenta, 1 - yellow]; // todo use white\n        const a = 1 - (1 - cyan) * (1 - magenta) * (1 - yellow) * (1 - white);\n        return [r, g, b, a];\n    }\n}\n","export default class WorldMouseEvent {\n    constructor(\n        public type: string,\n        public screenX: number,\n        public screenY: number,\n        public worldX: number,\n        public worldY: number\n    ) {}\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { withModifiers as _withModifiers, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"onTouchstart\", \"onTouchmove\", \"onTouchend\", \"onWheel\"]\n\nimport {ref, inject, onMounted, onBeforeUnmount} from 'vue';\nimport World from \"@/game/world/World\";\nimport WorldRenderer from \"@/render/WorldRenderer\";\nimport WorldMouseEvent from \"@/game/event/WorldMouseEvent\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'WorldViewer',\n  setup(__props, { emit }: { emit: ({(e: string, payload: WorldMouseEvent): void}), expose: any, slots: any, attrs: any }) {\n\nconst SCROLL_SENSITIVITY = 0.005\n\nconst canvasRef = ref<HTMLCanvasElement>()\nconst containerRef = ref<HTMLDivElement>()\n\n\n\nlet world: World = inject('world')!\nlet canvas: HTMLCanvasElement\nlet container: HTMLDivElement\nlet renderer: WorldRenderer\n\nconst dragging = {\n  dragMode: false,\n  lastMouseWorldPoint: [0, 0]\n}\n\nonMounted(init);\nonBeforeUnmount(() => {\n  renderer.destroy()\n});\n\nfunction init() {\n  canvas = canvasRef.value!\n  container = containerRef.value!\n  renderer = WorldRenderer.init(canvas, world)\n  new ResizeObserver(onCanvasResize).observe(container)\n  renderingRoutine();\n}\n\nfunction onWheel(event: WheelEvent) {\n  const camera = world.camera\n  if (event.deltaY > 0)\n    camera.height *= 1 + event.deltaY*SCROLL_SENSITIVITY\n  else\n    camera.height *= 1/(1 - event.deltaY*SCROLL_SENSITIVITY)\n  if (camera.height < 1)\n    camera.height = 1\n}\n\nfunction onTouchEvent(event: TouchEvent) {\n  if (event.touches.length == 1) {\n    let mouseEventType: string | undefined\n    switch (event.type) {\n      case 'touchstart': mouseEventType = 'mousedown'; break;\n      case 'touchmove': mouseEventType = 'mousemove'; break;\n      case 'touchend': mouseEventType = 'mouseup'; break;\n    }\n    if (mouseEventType) {\n      const { clientX: x, clientY: y } = event.touches[0]\n      const dps = window.devicePixelRatio\n      const [ screenX, screenY ] = [x * dps, y * dps]\n      let [ worldX, worldY ] = renderer.unproject([screenX, screenY])\n      const worldEvent = new WorldMouseEvent(`world-${mouseEventType}`, screenX, screenY, worldX, worldY)\n      handleDraggingEvent(worldEvent)\n      emit(worldEvent.type, worldEvent)\n    }\n  }\n}\n\nfunction onMouseEvent(event: MouseEvent) {\n  const dps = window.devicePixelRatio\n  const [ screenX, screenY ] = [event.x * dps, event.y * dps]\n  let [ worldX, worldY ] = renderer.unproject([screenX, screenY])\n\n  const worldEvent = new WorldMouseEvent(`world-${event.type}`, screenX, screenY, worldX, worldY)\n  handleDraggingEvent(worldEvent)\n  emit(worldEvent.type, worldEvent)\n}\n\nfunction handleDraggingEvent(event: WorldMouseEvent) {\n  if (event.type === 'world-mousedown') {\n    dragging.dragMode = true\n    dragging.lastMouseWorldPoint = [ event.worldX, event.worldY ]\n  }\n\n  if (event.type === 'world-mousemove' && dragging.dragMode) {\n    const [ prevX, prevY ] = dragging.lastMouseWorldPoint\n    world.camera.center.x += prevX - event.worldX\n    world.camera.center.y += prevY - event.worldY;\n    [ event.worldX, event.worldY ] = renderer.unproject([event.screenX, event.screenY])\n    dragging.lastMouseWorldPoint = [ event.worldX, event.worldY ]\n  }\n\n  if (event.type === 'world-mouseup' || event.type === 'world-mouseleave')\n    dragging.dragMode = false\n}\n\nfunction renderingRoutine() {\n  renderer.render()\n  window.requestAnimationFrame(renderingRoutine)\n}\n\nfunction onCanvasResize() {\n  const dpr = window.devicePixelRatio;\n  const { width, height } = container.getBoundingClientRect();\n  canvas.width = Math.round(width * dpr);\n  canvas.height = Math.round(height * dpr);\n  renderer.render()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"c-world-viewer\",\n    ref_key: \"containerRef\",\n    ref: containerRef\n  }, [\n    _createElementVNode(\"canvas\", {\n      class: \"canvas\",\n      ref_key: \"canvasRef\",\n      ref: canvasRef,\n      onClick: onMouseEvent,\n      onMousedown: onMouseEvent,\n      onMouseup: onMouseEvent,\n      onMousemove: onMouseEvent,\n      onMouseleave: onMouseEvent,\n      onTouchstart: _withModifiers(onTouchEvent, [\"prevent\"]),\n      onTouchmove: _withModifiers(onTouchEvent, [\"prevent\"]),\n      onTouchend: _withModifiers(onTouchEvent, [\"prevent\"]),\n      onWheel: _withModifiers(onWheel, [\"prevent\"])\n    }, null, 40, _hoisted_1)\n  ], 512))\n}\n}\n\n})","import script from \"./WorldViewer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./WorldViewer.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./WorldViewer.vue?vue&type=style&index=0&id=3c038b05&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"c-tabbed-panel\" }\nconst _hoisted_2 = { class: \"tabs\" }\nconst _hoisted_3 = { class: \"body\" }\n\nimport { ref, provide } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PropertiesTabbedPanel',\n  setup(__props) {\n\nconst activeTabName = ref<string | null>(null)\nconst minWidth = 320\n\nlet dragStartX = 0\nconst oldWidth = ref(300)\nconst width = ref(oldWidth.value)\n\nprovide('activeTabName', activeTabName)\n\nfunction onHandleDragStart(event: DragEvent) {\n  dragStartX = event.clientX\n  initHandleDragging()\n}\n\nfunction initHandleDragging() {\n  window.addEventListener('mousemove', onHandleDrag);\n  window.addEventListener('mouseleave', stopHandleDragging);\n  window.addEventListener('mouseup', stopHandleDragging);\n}\n\nfunction onHandleDrag(event: MouseEvent) {\n  if (event.screenX === 0)\n    return\n  let offset = dragStartX - event.clientX\n  width.value = oldWidth.value + offset\n  if (width.value < minWidth)\n    width.value = minWidth\n}\n\nfunction stopHandleDragging() {\n  oldWidth.value = width.value\n  window.removeEventListener('mousemove', onHandleDrag);\n  window.removeEventListener('mouseleave', stopHandleDragging);\n  window.removeEventListener('mouseup', stopHandleDragging);\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"tabbed-panel\",\n      draggable: \"false\",\n      style: _normalizeStyle({ width: `${width.value}px`, minWidth: `${minWidth}px` })\n    }, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _renderSlot(_ctx.$slots, \"tabs\")\n      ]),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _renderSlot(_ctx.$slots, \"bodies\"),\n        _createElementVNode(\"div\", {\n          class: \"resize-handle\",\n          onMousedown: onHandleDragStart\n        }, null, 32)\n      ])\n    ], 4)\n  ]))\n}\n}\n\n})","import script from \"./PropertiesTabbedPanel.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PropertiesTabbedPanel.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PropertiesTabbedPanel.vue?vue&type=style&index=0&id=ca817e26&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { inject, Ref } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PropertiesTab',\n  props: ['name'],\n  setup(__props) {\n\nconst props = __props;\n\n\nconst activeTabName = inject('activeTabName') as Ref<string | null>\n\nfunction onClick() {\n  if (activeTabName.value == props.name)\n    activeTabName.value = null\n  else\n    activeTabName.value = props.name\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"button\", {\n    class: _normalizeClass([\"button\", { active: _unref(activeTabName) === __props.name }]),\n    onClick: onClick\n  }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 2))\n}\n}\n\n})","import script from \"./PropertiesTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PropertiesTab.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PropertiesTab.vue?vue&type=style&index=0&id=beb74c1c&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/davdav2/Desktop/cybercells/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-beb74c1c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ToolButton',\n  props: {\n    active: { type: Boolean }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"button\", {\n    class: _normalizeClass([\"c-button\", { active: __props.active }])\n  }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 2))\n}\n}\n\n})","import script from \"./ToolButton.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ToolButton.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ToolButton.vue?vue&type=style&index=0&id=39d023b1&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"body-wr\"\n}\n\nimport { inject, ref } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PropertiesTabBody',\n  props: ['name'],\n  setup(__props) {\n\nconst props = __props;\n\n\nconst activeTabName = inject('activeTabName', ref(null))\n\nreturn (_ctx: any,_cache: any) => {\n  return (_unref(activeTabName) === props.name)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _renderSlot(_ctx.$slots, \"default\")\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./PropertiesTabBody.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PropertiesTabBody.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderSlot as _renderSlot, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-22faf50d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"section-wr\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"section-title\"\n}\nconst _hoisted_3 = { class: \"section-content\" }\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PropertiesSection',\n  props: ['title'],\n  setup(__props) {\n\nconst props = __props;\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (props.title)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString(props.title), 1))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _renderSlot(_ctx.$slots, \"default\")\n    ])\n  ]))\n}\n}\n\n})","import script from \"./PropertiesSection.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PropertiesSection.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PropertiesSection.vue?vue&type=style&index=0&id=22faf50d&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/davdav2/Desktop/cybercells/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-22faf50d\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-79ee8a10\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"c-number-slider\" }\nconst _hoisted_2 = [\"disabled\", \"min\", \"max\", \"step\"]\n\nimport { ref, watch } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'NumberSlider',\n  props: {\n    min: null,\n    max: null,\n    step: null,\n    disabled: { type: Boolean },\n    modelValue: null\n  },\n  emits: ['update:modelValue'],\n  setup(__props: any, { emit }) {\n\nconst props = __props as {\n  min?: number,\n  max?: number,\n  step?: number,\n  disabled?: boolean,\n  modelValue?: number\n};\n\n\n\n\nconst value = ref<number>(0)\n\nwatch(props, () => {\n  if (props.modelValue != null)\n    value.value = props.modelValue\n})\n\nwatch(value, () => {\n  emit(\"update:modelValue\", value.value)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _withDirectives(_createElementVNode(\"input\", {\n      class: \"input\",\n      type: \"range\",\n      disabled: __props.disabled,\n      min: __props.min,\n      max: __props.max,\n      step: __props.step,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((value).value = $event))\n    }, null, 8, _hoisted_2), [\n      [_vModelText, value.value]\n    ])\n  ]))\n}\n}\n\n})","import script from \"./NumberSlider.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./NumberSlider.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./NumberSlider.vue?vue&type=style&index=0&id=79ee8a10&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/davdav2/Desktop/cybercells/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-79ee8a10\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, vModelText as _vModelText, unref as _unref, withKeys as _withKeys, createElementVNode as _createElementVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"c-slider-with-number-input\" }\nconst _hoisted_2 = { class: \"slider-with-number-input\" }\nconst _hoisted_3 = [\"disabled\"]\n\nimport {Ref, ref, watch} from \"vue\";\nimport Slider from \"@/component/input/NumberSlider.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SliderWithNumberInput',\n  props: {\n    min: null,\n    max: null,\n    step: null,\n    disabled: { type: Boolean },\n    modelValue: null\n  },\n  emits: ['update:modelValue'],\n  setup(__props: any, { emit }) {\n\nconst props = __props as {\n  min?: number,\n  max?: number,\n  step?: number,\n  disabled?: boolean,\n  modelValue?: number\n};\n\n\n\nconst textInput = ref<HTMLInputElement>() as Ref<HTMLInputElement>\nconst value = ref<number>(0)\n\nwatch(props, () => {\n  if (props.modelValue != null)\n    value.value = props.modelValue\n})\n\nwatch(value, () => {\n  emit(\"update:modelValue\", value.value)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(Slider, {\n        class: \"slider\",\n        min: __props.min,\n        max: __props.max,\n        step: __props.step,\n        disabled: __props.disabled,\n        modelValue: value.value,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((value).value = $event)),\n        modelModifiers: { number: true }\n      }, null, 8, [\"min\", \"max\", \"step\", \"disabled\", \"modelValue\"]),\n      _withDirectives(_createElementVNode(\"input\", {\n        class: \"text-input\",\n        type: \"text\",\n        ref_key: \"textInput\",\n        ref: textInput,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((value).value = $event)),\n        disabled: __props.disabled,\n        onFocus: _cache[2] || (_cache[2] = ($event: any) => (_unref(textInput).select())),\n        onKeydown: [\n          _cache[3] || (_cache[3] = _withKeys(($event: any) => (_unref(textInput).blur()), [\"enter\"])),\n          _cache[4] || (_cache[4] = _withKeys(($event: any) => (_unref(textInput).blur()), [\"esc\"]))\n        ]\n      }, null, 40, _hoisted_3), [\n        [\n          _vModelText,\n          value.value,\n          void 0,\n          { number: true }\n        ]\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./SliderWithNumberInput.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SliderWithNumberInput.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SliderWithNumberInput.vue?vue&type=style&index=0&id=53c8e54b&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"c-input-label\"><slot/></div>\n</template>\n\n<style>\n.c-input-label {\n  color: var(--properties-input-label-color);\n  font-size: 0.8em;\n  margin-bottom: 1px;\n  cursor: default;\n}\n</style>","import { render } from \"./InputLabel.vue?vue&type=template&id=99afd250\"\nconst script = {}\n\nimport \"./InputLabel.vue?vue&type=style&index=0&id=99afd250&lang=css\"\n\nimport exportComponent from \"/Users/davdav2/Desktop/cybercells/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { inject } from \"vue\";\n\nimport World from \"@/game/world/World\";\n\nimport PropertiesSection from \"@/component/properties/PropertiesSection.vue\";\nimport SliderWithNumberInput from \"@/component/input/SliderWithNumberInput.vue\";\nimport InputLabel from \"@/component/input/InputLabel.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'WorldSettings',\n  setup(__props) {\n\nconst world = inject('world') as World\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(PropertiesSection, {\n    class: \"c-world-settings-tab-body\",\n    title: \"World settings\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(InputLabel, null, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Gravity\")\n        ]),\n        _: 1\n      }),\n      _createVNode(SliderWithNumberInput, {\n        class: \"slider-input\",\n        min: 0,\n        max: 2,\n        step: 0.01,\n        modelValue: _unref(world).gravity.y,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_unref(world).gravity.y) = $event)),\n        modelModifiers: { number: true }\n      }, null, 8, [\"step\", \"modelValue\"]),\n      _createVNode(InputLabel, null, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Density\")\n        ]),\n        _: 1\n      }),\n      _createVNode(SliderWithNumberInput, {\n        class: \"slider-input\",\n        min: 0,\n        max: 1.5,\n        step: 0.01,\n        modelValue: _unref(world).density,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_unref(world).density) = $event)),\n        modelModifiers: { number: true }\n      }, null, 8, [\"max\", \"step\", \"modelValue\"]),\n      _createVNode(InputLabel, null, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Viscosity\")\n        ]),\n        _: 1\n      }),\n      _createVNode(SliderWithNumberInput, {\n        class: \"slider-input\",\n        min: 0,\n        max: 0.8,\n        step: 0.01,\n        modelValue: _unref(world).viscosity,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_unref(world).viscosity) = $event)),\n        modelModifiers: { number: true }\n      }, null, 8, [\"max\", \"step\", \"modelValue\"]),\n      _createVNode(InputLabel, null, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Light intensity\")\n        ]),\n        _: 1\n      }),\n      _createVNode(SliderWithNumberInput, {\n        class: \"slider-input\",\n        min: 0,\n        max: 0.8,\n        step: 0.01,\n        modelValue: _unref(world).lightIntensity,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_unref(world).lightIntensity) = $event)),\n        modelModifiers: { number: true }\n      }, null, 8, [\"max\", \"step\", \"modelValue\"])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./WorldSettings.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./WorldSettings.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./WorldSettings.vue?vue&type=style&index=0&id=32e2ce6c&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import Vector2 from \"@/geom/Vector2\";\n\nexport default class Food implements WorldObject {\n    static FOOD_DENSITY = 4\n\n    id = -1\n\n    constructor(\n        public center: Vector2,\n        public mass: number\n    ) {}\n\n\n    get radius() {\n        return Math.sqrt(this.mass/Math.PI) / Food.FOOD_DENSITY\n    }\n}","import Vector2 from \"@/geom/Vector2\";\nimport Genome from \"@/game/Genome\";\n\nexport default class Cell implements WorldObject {\n    id = -1\n\n    constructor(\n        public center: Vector2,\n        public speed: Vector2,\n        public mass: number,\n        public angle: number,\n        public angularSpeed: number,\n        public genome: Genome,\n    ) {}\n\n    connections: Map<number, CellConnectionState> = new Map()\n    age: number = 0\n\n    public get radius() {\n        return Math.sqrt(this.mass)\n    }\n}\n\nclass CellConnectionState {\n    constructor(public angle: number, public partnerId: number) {}\n}","import Vector2 from \"@/geom/Vector2\";\n\nexport default class Wall implements WorldObject {\n    id = -1\n\n    constructor(public a: Vector2, public b: Vector2) {}\n}\n","enum CellType {\n    PHAGOCYTE,\n    FLAGELLOCYTE\n}\n\nexport default CellType","import CellType from \"@/game/CellType\";\n\nexport default class Genome {\n    private constructor(\n        public type: CellType = CellType.FLAGELLOCYTE,\n        public cyanPigment: number = 0,\n        public magentaPigment: number = 0,\n        public yellowPigment: number = 0,\n        public whitePigment: number = 0,\n        public hardness: number = 0,\n        public splitMass: number = 0,\n        public splitAngle: number = 0,\n        public child1Angle: number = 0,\n        public child2Angle: number = 0,\n        public stickOnSplit: boolean = false,\n        public child1KeepConnections: boolean = false,\n        public child2KeepConnections: boolean = false,\n        public nutritionPriority: number = 0,\n    ) {}\n\n    flagellumForce: number = 8;\n\n    children: [Genome, Genome] = [this, this];\n\n    deepCopy = this.copyRecursive\n\n    applyRadiationLocally() {\n        // TODO\n    }\n\n    static newNullGenome(): Genome {\n        return new Genome();\n    }\n\n    static newSampleGenome(): Genome {\n        const result = new Genome();\n        result.type = CellType.FLAGELLOCYTE;\n        result.hardness = 0.6;\n        result.splitMass = 350;\n        result.child1KeepConnections = true;\n        result.child2KeepConnections = true;\n        result.nutritionPriority = 1;\n        [result.cyanPigment, result.magentaPigment, result.yellowPigment, result.whitePigment] = this.getRandomCellPigments();\n        return result\n    }\n\n    private static getRandomCellPigments(): [number, number, number, number] {\n        const cmyw: [number, number, number, number] = [\n            Math.round(Math.random()/2*100)/100,\n            Math.round(Math.random()*100)/100,\n            0,\n            0\n        ];\n        for (let i = 0; i < cmyw.length; i++) {\n            const randomIndex = Math.floor(Math.random() * cmyw.length);\n            [cmyw[i], cmyw[randomIndex]] = [cmyw[randomIndex], cmyw[i]];\n        }\n        return cmyw\n    }\n\n    private copyRecursive(copies: Map<Genome, Genome> = new Map().set(null, null)): Genome {\n        const result = new Genome()\n        result.type = this.type\n        result.cyanPigment = this.cyanPigment\n        result.magentaPigment = this.magentaPigment\n        result.yellowPigment = this.yellowPigment\n        result.whitePigment = this.whitePigment\n        result.hardness = this.hardness\n        result.splitMass = this.splitMass\n        result.splitAngle = this.splitAngle\n        result.child1Angle = this.child1Angle\n        result.child2Angle = this.child2Angle\n        result.stickOnSplit = this.stickOnSplit\n        result.child1KeepConnections = this.child1KeepConnections\n        result.child2KeepConnections = this.child2KeepConnections\n        result.nutritionPriority = this.nutritionPriority\n        result.flagellumForce = this.flagellumForce\n        copies.set(this, result)\n\n        result.children = [\n            copies.has(this.children[0]) ? copies.get(this.children[0])! : this.children[0].copyRecursive(copies),\n            copies.has(this.children[1]) ? copies.get(this.children[1])! : this.children[1].copyRecursive(copies)\n        ]\n\n        return result\n    }\n\n    private findAllGenomes(): Set<Genome> {\n        const stash = new Array<Genome>()\n        const result = new Set<Genome>()\n        while (stash.length != 0) {\n            stash.pop()!!.children.forEach((element: Genome) => {\n                if (!result.has(element)) {\n                    stash.push(element)\n                    result.add(element)\n                }\n            });\n        }\n        return result\n    }\n\n    private applyRadiationRecursive() {\n        // TODO\n    }\n}","import Vector2 from \"@/geom/Vector2\";\n\nexport default class Camera {\n    constructor(\n        public center: Vector2,\n        public height: number\n    ) {}\n\n    static NULL = new Camera(new Vector2(), 0)\n}","import Vector2 from \"@/geom/Vector2\";\nimport Food from \"@/game/world/object/Food\";\nimport Cell from \"@/game/world/object/Cell\";\nimport Wall from \"@/game/world/object/Wall\";\nimport Genome from \"@/game/Genome\";\nimport Camera from \"@/game/Camera\";\n\nexport default class World {\n    constructor(\n        public width: number,\n        public height: number,\n        public gravity: Vector2,\n        public density: number,\n        public viscosity: number,\n        public radiation: number,\n        public lightIntensity: number,\n        public camera: Camera = Camera.NULL\n    ) {}\n\n    public food: Map<number, Food> = new Map()\n    public cells: Map<number, Cell> = new Map()\n    public walls: Map<number, Wall> = new Map()\n\n    private idCounter = 0;\n\n    public newId() {\n        return this.idCounter++;\n    }\n\n    public add(object: WorldObject) {\n        if (object.id == -1)\n            object.id = this.newId();\n\n        if (object instanceof Cell)\n            this.cells.set(object.id, object);\n        if (object instanceof Food)\n            this.food.set(object.id, object);\n        if (object instanceof Wall)\n            this.walls.set(object.id, object);\n    }\n\n    public remove(object: WorldObject) {\n        this.cells.delete(object.id);\n        this.food.delete(object.id);\n        this.walls.delete(object.id);\n    }\n\n    public getLightIntensityAtPoint(point: Vector2) {\n        // TODO\n    }\n\n    public static getDefault() {\n        return new World(0, 0, new Vector2(), 0, 0, 0, 0)\n    }\n\n    static TEMPORARY_DEBUG = (() => {\n        const state = new World(800, 600, new Vector2(), 0, 0, 0, 0, new Camera(new Vector2(0, 0), 800))\n        state.cells.set(0, new Cell(new Vector2(50, 50), new Vector2(), 400, 0, 0, Genome.newSampleGenome()))\n        state.cells.set(1, new Cell(new Vector2(200, 120), new Vector2(), 400, 0, 0, Genome.newSampleGenome()))\n        return state\n    })()\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"c-cell-genome-preview\" }\n\nimport Genome from \"@/game/Genome\";\nimport WorldRenderer from \"@/render/WorldRenderer\";\nimport {onBeforeUnmount, onMounted, Ref, ref, watch} from \"vue\";\nimport World from \"@/game/world/World\";\nimport Vector2 from \"@/geom/Vector2\";\nimport Camera from \"@/game/Camera\";\nimport Cell from \"@/game/world/object/Cell\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CellGenomePreview',\n  props: {\n    genome: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n  genome: Genome | null\n};\n\n\n\nconst canvas = ref() as Ref<HTMLCanvasElement>;\nlet canvasSizeObserver: ResizeObserver\nlet renderer: WorldRenderer\n\nonMounted(() => {\n  renderer = WorldRenderer.init(canvas.value)\n  renderer.config.layers.background = false\n  canvasSizeObserver = new ResizeObserver(onCanvasResize)\n  canvasSizeObserver.observe(canvas.value)\n  updateRendererDummyWorld()\n  renderer.render()\n})\n\nonBeforeUnmount(() => {\n  canvasSizeObserver.disconnect();\n  renderer.destroy();\n})\n\nwatch(props, () => {\n  updateRendererDummyWorld()\n  renderer.render()\n})\n\nfunction updateRendererDummyWorld() {\n  const dummyWorld = World.getDefault()\n  if (props.genome) {\n    const dummyCell = new Cell(new Vector2(), new Vector2(), 300, Math.PI/4, 0, props.genome)\n    dummyWorld.cells.set(0, dummyCell)\n    dummyWorld.camera = new Camera(new Vector2(), dummyCell.radius * 3)\n  }\n  renderer.worldState = dummyWorld\n}\n\nfunction onCanvasResize() {\n  const dpr = window.devicePixelRatio;\n  const { width, height } = canvas.value.getBoundingClientRect();\n  canvas.value.width = Math.round(width * dpr);\n  canvas.value.height = Math.round(height * dpr);\n  renderer.render()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"canvas\", {\n      class: \"canvas\",\n      ref_key: \"canvas\",\n      ref: canvas\n    }, null, 512)\n  ]))\n}\n}\n\n})","import script from \"./CellGenomePreview.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CellGenomePreview.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./CellGenomePreview.vue?vue&type=style&index=0&id=495f7946&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withKeys as _withKeys, createElementVNode as _createElementVNode, withDirectives as _withDirectives, unref as _unref, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vShow as _vShow, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective } from \"vue\"\n\nconst _hoisted_1 = { class: \"c-genome-selector\" }\nconst _hoisted_2 = { class: \"select-head\" }\nconst _hoisted_3 = [\"onKeydown\"]\nconst _hoisted_4 = { class: \"dropdown\" }\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = { class: \"dropdown-item__preview-wr\" }\nconst _hoisted_7 = { class: \"dropdown-item__name\" }\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"dropdown-item__controls\" }, null, -1)\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"new-item-button\" }, null, -1)\n\nimport {computed, ref, watch} from \"vue\";\nimport GenomeLibrary, {GenomeLibraryEntry} from \"@/game/GenomeLibrary\";\nimport InputLabel from \"@/component/input/InputLabel.vue\";\nimport CellGenomePreview from \"@/component/genome/CellGenomePreview.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'GenomeSelector',\n  props: {\n    library: null,\n    modelValue: null\n  },\n  emits: ['update:modelValue'],\n  setup(__props: any, { emit }) {\n\nconst props = __props as {\n  library: GenomeLibrary,\n  modelValue?: GenomeLibraryEntry\n};\n\n\n\n\nconst nameInput = ref(props.modelValue ? props.modelValue.name : \"\")\nconst dropdownOpened = ref(false)\nconst value = ref<GenomeLibraryEntry | null>(null)\n\nconst libraryEntriesFiltered = computed(() => {\n  if (value.value && nameInput.value === value.value.name)\n    return props.library.entries\n  else\n    return props.library.search(nameInput.value)\n})\n\nwatch(value, () => {\n  emit('update:modelValue', value.value)\n  resetNameInput();\n})\n\nwatch(props, () => {\n  if (props.modelValue)\n    value.value = props.modelValue\n  resetNameInput();\n})\n\nfunction onInputFocus(e: InputEvent) {\n  dropdownOpened.value = true;\n  const input = e.target as HTMLInputElement;\n  input.select()\n}\n\nfunction select(item: GenomeLibraryEntry) {\n  value.value = item\n  dropdownOpened.value = false;\n}\n\nfunction cancelSelection() {\n  dropdownOpened.value = false\n  resetNameInput();\n}\n\nfunction resetNameInput() {\n  if (value.value == null)\n    nameInput.value = '';\n  else\n    nameInput.value = value.value.name\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n      class: _normalizeClass({ 'dropdown-opened': dropdownOpened.value })\n    }, [\n      _createVNode(InputLabel, null, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Genome to edit\")\n        ]),\n        _: 1\n      }),\n      _createElementVNode(\"div\", _hoisted_2, [\n        (value.value)\n          ? (_openBlock(), _createBlock(CellGenomePreview, {\n              key: 0,\n              class: \"select-head__preview\",\n              genome: __props.modelValue?.genome\n            }, null, 8, [\"genome\"]))\n          : _createCommentVNode(\"\", true),\n        _withDirectives(_createElementVNode(\"input\", {\n          class: \"select-head__name-input\",\n          placeholder: \"Select genome\",\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((nameInput).value = $event)),\n          onFocus: onInputFocus,\n          onKeydown: _withKeys(cancelSelection, [\"esc\"])\n        }, null, 40, _hoisted_3), [\n          [_vModelText, nameInput.value]\n        ]),\n        _createElementVNode(\"button\", {\n          class: \"select-head__dropdown-trigger\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (dropdownOpened.value = !dropdownOpened.value))\n        })\n      ]),\n      _withDirectives(_createElementVNode(\"div\", _hoisted_4, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(libraryEntriesFiltered), (item) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            class: \"dropdown-item\",\n            key: item.name,\n            onClick: () => select(item)\n          }, [\n            _createElementVNode(\"div\", _hoisted_6, [\n              _createVNode(CellGenomePreview, {\n                class: \"dropdown-item__preview\",\n                genome: item.genome\n              }, null, 8, [\"genome\"])\n            ]),\n            _createElementVNode(\"div\", _hoisted_7, _toDisplayString(item.name), 1),\n            _hoisted_8\n          ], 8, _hoisted_5))\n        }), 128)),\n        _hoisted_9\n      ], 512), [\n        [_vShow, dropdownOpened.value]\n      ])\n    ], 2)), [\n      [_directive_click_outside, cancelSelection]\n    ])\n  ]))\n}\n}\n\n})","import script from \"./GenomeSelector.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GenomeSelector.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./GenomeSelector.vue?vue&type=style&index=0&id=32df403e&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"c-properties-subheader\">\n    <span class=\"text\">\n      <slot/>\n    </span>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.c-properties-subheader {\n  text-align: center;\n  display: flex;\n  align-items: center;\n  margin-top: 15px;\n  margin-bottom: 5px;\n\n  &:before, &:after {\n    content: '';\n    border-bottom: 1px solid grey;\n    height: 0;\n    flex: 1;\n  }\n\n  .text {\n    color: rgb(190, 190, 190);\n    text-transform: uppercase;\n    font-size: 0.8em;\n    margin: 0 10px;\n  }\n}\n</style>","import { render } from \"./PropertiesSubheader.vue?vue&type=template&id=8c428008\"\nconst script = {}\n\nimport \"./PropertiesSubheader.vue?vue&type=style&index=0&id=8c428008&lang=scss\"\n\nimport exportComponent from \"/Users/davdav2/Desktop/cybercells/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"c-genome-pigment-color-droplet-icon\" }\n\nimport {onBeforeUnmount, onMounted, Ref, ref, watch} from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'GenomePigmentColorDropletIcon',\n  props: {\n  color: {\n    type: String,\n    default: \"white\"\n  },\n  value: {\n    type: Number,\n    default: 1\n  }\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst canvasRef = ref() as Ref<HTMLCanvasElement>;\nlet canvasCtx: CanvasRenderingContext2D | null = null\nlet canvasSizeObserver: ResizeObserver\n\n\n\nwatch(props, drawDroplet);\n\nonMounted(startObservingCanvasSizeChange);\nonBeforeUnmount(stopObservingCanvasSizeChange)\n\nfunction startObservingCanvasSizeChange() {\n  canvasSizeObserver = new ResizeObserver(onCanvasResize)\n  canvasSizeObserver.observe(canvasRef.value);\n}\n\nfunction stopObservingCanvasSizeChange() {\n  canvasSizeObserver.disconnect();\n}\n\nfunction onCanvasResize() {\n  const canvas = canvasRef.value\n  const dpr = window.devicePixelRatio;\n  const { width, height } = canvas.getBoundingClientRect();\n  canvas.width = Math.round(width * dpr);\n  canvas.height = Math.round(height * dpr);\n  drawDroplet();\n}\n\nfunction drawDroplet() {\n  const canvas = canvasRef.value;\n  const { width: w, height: h } = canvas;\n  canvasCtx = canvasCtx || canvas.getContext('2d')!;\n  const gradient = canvasCtx.createLinearGradient(0.5 * w, 0.2 * h, 0.5 * w, 0.85 * h);\n  const clippedValue = Math.min(1, Math.max(0, props.value));\n  gradient.addColorStop(0, \"transparent\");\n  gradient.addColorStop(1 - clippedValue, \"transparent\");\n  gradient.addColorStop(1 - clippedValue, props.color);\n  gradient.addColorStop(1, props.color);\n  canvasCtx.clearRect(0, 0, w, h);\n  canvasCtx.strokeStyle = props.color;\n  canvasCtx.fillStyle = gradient;\n  canvasCtx.lineWidth = 2;\n  canvasCtx.beginPath();\n  canvasCtx.moveTo(0.5 * w, 0.2 * h);\n  canvasCtx.lineTo(0.75 * w, 0.6 * h);\n  canvasCtx.arc(0.5 * w, 0.6 * h, 0.25 * w, 0, Math.PI);\n  canvasCtx.lineTo(0.5 * w, 0.2 * h);\n  canvasCtx.stroke();\n  canvasCtx.fill();\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"canvas\", {\n      class: \"canvas\",\n      ref_key: \"canvasRef\",\n      ref: canvasRef\n    }, null, 512)\n  ]))\n}\n}\n\n})","import script from \"./GenomePigmentColorDropletIcon.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GenomePigmentColorDropletIcon.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./GenomePigmentColorDropletIcon.vue?vue&type=style&index=0&id=374333ae&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"c-genome-pigments-editor\" }\nconst _hoisted_2 = { class: \"pigments-view\" }\n\nimport InputLabel from \"@/component/input/InputLabel.vue\";\nimport {computed, inject, Ref} from \"vue\";\nimport SliderWithNumberInput from \"@/component/input/SliderWithNumberInput.vue\";\nimport GenomePigmentColorDropletIcon from \"@/component/genome/GenomePigmentColorDropletIcon.vue\";\nimport Genome from \"@/game/Genome\";\nimport {GenomeLibraryEntry} from \"@/game/GenomeLibrary\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'GenomePigmentsEditor',\n  setup(__props) {\n\nconst selectedGenomeEntry = inject('selectedGenomeEntry') as Ref<GenomeLibraryEntry | null>\nconst genome: Ref<Genome> = computed(() =>\n    selectedGenomeEntry.value ? selectedGenomeEntry.value!.genome : Genome.newNullGenome()\n)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(InputLabel, { class: \"label\" }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Cyan\")\n      ]),\n      _: 1\n    }),\n    _createVNode(SliderWithNumberInput, {\n      class: \"input\",\n      min: 0,\n      max: 1,\n      step: 0.01,\n      disabled: !_unref(selectedGenomeEntry),\n      modelValue: _unref(genome).cyanPigment,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_unref(genome).cyanPigment) = $event))\n    }, null, 8, [\"step\", \"disabled\", \"modelValue\"]),\n    _createVNode(InputLabel, { class: \"label\" }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Magenta\")\n      ]),\n      _: 1\n    }),\n    _createVNode(SliderWithNumberInput, {\n      class: \"input\",\n      min: 0,\n      max: 1,\n      step: 0.01,\n      disabled: !_unref(selectedGenomeEntry),\n      modelValue: _unref(genome).magentaPigment,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_unref(genome).magentaPigment) = $event))\n    }, null, 8, [\"step\", \"disabled\", \"modelValue\"]),\n    _createVNode(InputLabel, { class: \"label\" }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Yellow\")\n      ]),\n      _: 1\n    }),\n    _createVNode(SliderWithNumberInput, {\n      class: \"input\",\n      min: 0,\n      max: 1,\n      step: 0.01,\n      disabled: !_unref(selectedGenomeEntry),\n      modelValue: _unref(genome).yellowPigment,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_unref(genome).yellowPigment) = $event))\n    }, null, 8, [\"step\", \"disabled\", \"modelValue\"]),\n    _createVNode(InputLabel, { class: \"label\" }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"White\")\n      ]),\n      _: 1\n    }),\n    _createVNode(SliderWithNumberInput, {\n      class: \"input\",\n      min: 0,\n      max: 1,\n      step: 0.01,\n      disabled: !_unref(selectedGenomeEntry),\n      modelValue: _unref(genome).whitePigment,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_unref(genome).whitePigment) = $event))\n    }, null, 8, [\"step\", \"disabled\", \"modelValue\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(GenomePigmentColorDropletIcon, {\n        class: \"pigment-icon\",\n        color: \"cyan\",\n        value: _unref(genome).cyanPigment\n      }, null, 8, [\"value\"]),\n      _createVNode(GenomePigmentColorDropletIcon, {\n        class: \"pigment-icon\",\n        color: \"magenta\",\n        value: _unref(genome).magentaPigment\n      }, null, 8, [\"value\"]),\n      _createVNode(GenomePigmentColorDropletIcon, {\n        class: \"pigment-icon\",\n        color: \"yellow\",\n        value: _unref(genome).yellowPigment\n      }, null, 8, [\"value\"]),\n      _createVNode(GenomePigmentColorDropletIcon, {\n        class: \"pigment-icon\",\n        color: \"white\",\n        value: _unref(genome).whitePigment\n      }, null, 8, [\"value\"])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./GenomePigmentsEditor.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GenomePigmentsEditor.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./GenomePigmentsEditor.vue?vue&type=style&index=0&id=d1c55dbc&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport PropertiesSubheader from \"@/component/properties/PropertiesSubheader.vue\";\nimport GenomePigmentsEditor from \"@/component/genome/GenomePigmentsEditor.vue\";\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'GenomeEditor',\n  setup(__props) {\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(PropertiesSubheader, null, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Pigments\")\n      ]),\n      _: 1\n    }),\n    _createVNode(GenomePigmentsEditor),\n    _createVNode(PropertiesSubheader, null, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Children\")\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","import script from \"./GenomeEditor.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GenomeEditor.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, isRef as _isRef, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport {inject, provide, ref, Ref} from \"vue\";\nimport PropertiesSection from \"@/component/properties/PropertiesSection.vue\";\nimport GenomeLibrary, { GenomeLibraryEntry } from \"@/game/GenomeLibrary\";\nimport GenomeSelector from \"@/component/genome/GenomeSelector.vue\";\nimport GenomeEditor from \"@/component/genome/GenomeEditor.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'GenomeLibraryEditor',\n  setup(__props) {\n\nconst library = inject('genomeLibrary') as Ref<GenomeLibrary>;\n\nlet selectedGenomeEntry = ref<GenomeLibraryEntry | null>(null);\nprovide('selectedGenomeEntry', selectedGenomeEntry);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(PropertiesSection, { title: \"Genome editor\" }, {\n    default: _withCtx(() => [\n      _createVNode(GenomeSelector, {\n        library: _unref(library),\n        modelValue: _unref(selectedGenomeEntry),\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(selectedGenomeEntry) ? (selectedGenomeEntry).value = $event : selectedGenomeEntry = $event))\n      }, null, 8, [\"library\", \"modelValue\"]),\n      _createVNode(GenomeEditor)\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./GenomeLibraryEditor.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GenomeLibraryEditor.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock } from \"vue\"\nimport _imports_0 from '@public/icon/properties/genome-editor.svg'\nimport _imports_1 from '@public/icon/properties/settings.svg'\n\n\nconst _hoisted_1 = { class: \"c-controls-panel\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"properties-tab__icon\",\n  src: _imports_0,\n  alt: \"Tab icon\"\n}, null, -1)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"properties-tab__icon\",\n  src: _imports_1,\n  alt: \"Tab icon\"\n}, null, -1)\nconst _hoisted_4 = { class: \"tool-buttons-container\" }\nconst _hoisted_5 = [\"src\"]\n\nimport { inject } from \"vue\";\nimport PropertiesTabbedPanel from \"@/component/properties/PropertiesTabbedPanel.vue\";\nimport PropertiesTab from \"@/component/properties/PropertiesTab.vue\";\nimport ToolsManager from \"@/game/tool/ToolsManager\";\nimport ToolButton from \"@/component/ToolButton.vue\";\nimport PropertiesTabBody from \"@/component/properties/PropertiesTabBody.vue\";\nimport WorldSettings from \"@/component/WorldSettings.vue\";\nimport GenomeLibraryEditor from \"@/component/genome/GenomeLibraryEditor.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ControlsPanel',\n  setup(__props) {\n\nconst toolsManager = inject('toolsManager') as ToolsManager;\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(PropertiesTabbedPanel, { class: \"properties-container\" }, {\n      tabs: _withCtx(() => [\n        _createVNode(PropertiesTab, {\n          class: \"properties-tab\",\n          name: \"genome-editor\"\n        }, {\n          default: _withCtx(() => [\n            _hoisted_2\n          ]),\n          _: 1\n        }),\n        _createVNode(PropertiesTab, {\n          class: \"properties-tab\",\n          name: \"settings\"\n        }, {\n          default: _withCtx(() => [\n            _hoisted_3\n          ]),\n          _: 1\n        })\n      ]),\n      bodies: _withCtx(() => [\n        _createVNode(PropertiesTabBody, { name: \"genome-editor\" }, {\n          default: _withCtx(() => [\n            _createVNode(GenomeLibraryEditor)\n          ]),\n          _: 1\n        }),\n        _createVNode(PropertiesTabBody, { name: \"settings\" }, {\n          default: _withCtx(() => [\n            _createVNode(WorldSettings)\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createElementVNode(\"div\", _hoisted_4, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(toolsManager).tools, (tool) => {\n        return (_openBlock(), _createBlock(ToolButton, {\n          class: \"tool-button\",\n          key: tool.name,\n          active: _unref(toolsManager).currentTool === tool,\n          onClick: ($event: any) => (_unref(toolsManager).currentTool = tool)\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"img\", {\n              class: \"tool-button__icon\",\n              src: tool.icon,\n              alt: \"Tool icon\"\n            }, null, 8, _hoisted_5)\n          ]),\n          _: 2\n        }, 1032, [\"active\", \"onClick\"]))\n      }), 128))\n    ])\n  ]))\n}\n}\n\n})","import script from \"./ControlsPanel.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ControlsPanel.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ControlsPanel.vue?vue&type=style&index=0&id=02225523&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import Genome from \"@/game/Genome\";\n\nexport default class GenomeLibrary {\n    entries: Set<GenomeLibraryEntry> = new Set()\n\n    search(query: string): Set<GenomeLibraryEntry> {\n        const result = new Set<GenomeLibraryEntry>()\n        this.entries.forEach( entry => {\n            if (entry.name.toLowerCase().includes(query.toLowerCase()))\n                result.add(entry)\n        })\n        return result\n    }\n}\n\nexport class GenomeLibraryEntry {\n    constructor(\n        public name: string,\n        public genome: Genome\n    ) {}\n}","export default class AppPreferences {\n    // Nothing here so far...\n}","import WorldMouseEvent from \"@/game/event/WorldMouseEvent\";\nimport Tool from \"@/game/tool/Tool\";\nimport World from \"@/game/world/World\";\n\nexport default class ToolsManager {\n\n    public currentTool: Tool\n\n    constructor(\n        public tools: Tool[],\n        private world: World\n    ) {\n        tools.forEach(tool => tool.init(this))\n        this.currentTool = tools[0]\n    }\n\n    dispatchEvent(event: WorldMouseEvent) {\n        // TODO\n    }\n}","import Tool from \"@/game/tool/Tool\";\nimport ToolsManager from \"@/game/tool/ToolsManager\";\n\nexport default class AddCellTool implements Tool {\n    name = \"Add cell\"\n    icon = require(\"@public/icon/tool/add-cell.svg\")\n\n    private toolsManager: ToolsManager | null = null;\n\n    init(toolsManager: ToolsManager) {\n        this.toolsManager = toolsManager\n    }\n\n    onSelect() {\n\n    }\n\n    onUnselect() {\n\n    }\n}","import Tool from \"@/game/tool/Tool\";\nimport ToolsManager from \"@/game/tool/ToolsManager\";\n\nexport default class RemoveCellTool implements Tool {\n    name = \"Remove cell\"\n    icon = require(\"@public/icon/tool/remove-cell.svg\")\n\n    init(toolsManager: ToolsManager) {}\n\n    onSelect() {}\n\n    onUnselect() {}\n}","import Tool from \"@/game/tool/Tool\";\nimport ToolsManager from \"@/game/tool/ToolsManager\";\n\nexport default class SelectionTool implements Tool {\n    name = \"Selection\";\n    icon = require(\"@public/icon/tool/selection.svg\")\n\n    init(toolsManager: ToolsManager): void {\n\n    }\n\n    onSelect(): void {\n\n    }\n\n    onUnselect(): void {\n\n    }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { provide, ref } from \"vue\";\n\nimport WorldViewer from \"@/component/WorldViewer.vue\";\nimport ControlsPanel from \"@/component/ControlsPanel.vue\";\nimport GenomeLibrary, {GenomeLibraryEntry} from \"@/game/GenomeLibrary\";\nimport World from \"@/game/world/World\";\nimport AppPreferences from \"@/AppPreferences\";\nimport ToolsManager from \"@/game/tool/ToolsManager\";\nimport AddCellTool from \"@/game/tool/AddCellTool\";\nimport RemoveCellTool from \"@/game/tool/RemoveCellTool\";\nimport Genome from \"@/game/Genome\";\nimport SelectionTool from \"@/game/tool/SelectionTool\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\nconst tools = [ new SelectionTool(), new AddCellTool(), new RemoveCellTool() ]\nconst world = World.TEMPORARY_DEBUG\n\nconst genomeLibrary = new GenomeLibrary()\ngenomeLibrary.entries.add(new GenomeLibraryEntry(\"my genome\", Genome.newSampleGenome()))\ngenomeLibrary.entries.add(new GenomeLibraryEntry(\"test\", Genome.newSampleGenome()))\ngenomeLibrary.entries.add(new GenomeLibraryEntry(\"aaaaaaaaa\", Genome.newSampleGenome()))\ngenomeLibrary.entries.add(new GenomeLibraryEntry(\"aboba\", Genome.newSampleGenome()))\n\nprovide('world', world)\nprovide('genomeLibrary', ref<GenomeLibrary>(genomeLibrary))\nprovide('appPreferences', ref<AppPreferences>(new AppPreferences()))\nprovide('toolsManager', ref(new ToolsManager(tools, world)))\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(WorldViewer),\n    _createVNode(ControlsPanel, { class: \"controls-panel\" })\n  ], 64))\n}\n}\n\n})","import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=be893c22&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\nconst app = createApp(App)\n\napp.directive('click-outside', {\n    mounted: function (el, binding) {\n        el.clickOutsideEvent = function (event: MouseEvent) {\n            if (!(el == event.target || el.contains(event.target))) {\n                binding.value(event);\n            }\n        };\n        document.body.addEventListener('click', el.clickOutsideEvent)\n    },\n    beforeUnmount: function (el) {\n        document.body.removeEventListener('click', el.clickOutsideEvent)\n    },\n});\n\napp.mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcybercells\"] = self[\"webpackChunkcybercells\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(8306); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["ShaderManager","constructor","gl","static","canvas","getContext","powerPreference","Error","newShader","vertexShaderSource","fragmentShaderSource","vertexShader","this","loadShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","shaderProgram","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","newTexture","width","height","texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","newArrayBuffer","data","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","destroy","getExtension","loseContext","type","source","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","sqrt","pow","sin","cos","acos","PI","Math","Vector2","x","y","length","plus","that","minus","times","factor","div","negative","dot","to","nearest","vectors","reduce","a","b","distance","shortestAngularTurn","diff","angle","positiveAngleDiff","angleSafe","isNaN","rotate","radians","unit","vector","WorldRenderer","shaderManager","backgroundShader","cellShader","worldState","Date","now","layers","background","walls","cells","mainMesh","createMainMesh","drawBufferTextureUv","createDrawBufferTextureUv","framebuffer","createFramebuffer","autoUpdateDrawBufferTexture","init","commonVertexShaderSource","backgroundFragmentShaderSource","cellFragmentShaderSource","render","clearColor","clearDepth","enable","DEPTH_TEST","depthFunc","LEQUAL","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","viewport","drawingBufferWidth","drawingBufferHeight","config","renderBackground","renderCells","project","worldPoint","projection","buildCameraTransform","inverted","mat4","vec2","unproject","screenPoint","useProgram","vertexAttributeLoc","getAttribLocation","vertexAttribPointer","FLOAT","enableVertexAttribArray","viewMatrix","buildViewTransform","uniformMatrix4fv","getUniformLocation","uniform1f","startTime","uniform2f","bufferTextureSize","index","cell","cellRgba","cellPigmentsToRgba","genome","cyanPigment","magentaPigment","yellowPigment","whitePigment","bindFramebuffer","FRAMEBUFFER","sourceBufferTexture","uniform1i","id","center","speed","mass","radius","uniform4f","size","setDrawToCanvas","setDrawToBufferTexture","drawArrays","TRIANGLE_STRIP","swapBuffers","textureCoordinateLoc","lightIntensity","canvasWidth","canvasHeight","result","camera","scale","drawBufferTextureNeedsUpdate","deleteTexture","targetBufferTexture","framebufferTexture2D","COLOR_ATTACHMENT0","swap","cyan","magenta","yellow","white","r","g","WorldMouseEvent","screenX","screenY","worldX","worldY","_hoisted_1","_defineComponent","__name","setup","__props","emit","SCROLL_SENSITIVITY","canvasRef","ref","containerRef","container","renderer","world","inject","dragging","dragMode","lastMouseWorldPoint","value","ResizeObserver","onCanvasResize","observe","renderingRoutine","onWheel","event","deltaY","onTouchEvent","touches","mouseEventType","clientX","clientY","dps","window","devicePixelRatio","worldEvent","handleDraggingEvent","onMouseEvent","prevX","prevY","requestAnimationFrame","dpr","getBoundingClientRect","round","onMounted","onBeforeUnmount","_ctx","_cache","_openBlock","_createElementBlock","class","ref_key","_createElementVNode","onClick","onMousedown","onMouseup","onMousemove","onMouseleave","onTouchstart","_withModifiers","onTouchmove","onTouchend","__exports__","_hoisted_2","_hoisted_3","activeTabName","minWidth","dragStartX","oldWidth","onHandleDragStart","initHandleDragging","addEventListener","onHandleDrag","stopHandleDragging","offset","removeEventListener","provide","draggable","style","_normalizeStyle","_renderSlot","$slots","props","name","_normalizeClass","active","_unref","Boolean","key","_createCommentVNode","title","_toDisplayString","min","max","step","disabled","modelValue","emits","watch","_withDirectives","$event","_vModelText","textInput","_createVNode","Slider","modelModifiers","number","onFocus","select","onKeydown","_withKeys","blur","script","_createBlock","PropertiesSection","default","_withCtx","InputLabel","_createTextVNode","_","SliderWithNumberInput","gravity","density","viscosity","Food","FOOD_DENSITY","Cell","angularSpeed","Map","Wall","CellType","Genome","hardness","splitMass","splitAngle","child1Angle","child2Angle","stickOnSplit","child1KeepConnections","child2KeepConnections","nutritionPriority","copyRecursive","applyRadiationLocally","getRandomCellPigments","cmyw","random","i","randomIndex","floor","copies","set","flagellumForce","children","has","get","findAllGenomes","stash","Array","Set","pop","forEach","element","push","add","applyRadiationRecursive","Camera","World","radiation","NULL","newId","idCounter","object","food","remove","delete","getLightIntensityAtPoint","point","state","newSampleGenome","canvasSizeObserver","updateRendererDummyWorld","dummyWorld","getDefault","dummyCell","disconnect","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","library","nameInput","dropdownOpened","libraryEntriesFiltered","computed","entries","search","onInputFocus","e","input","target","item","cancelSelection","resetNameInput","_directive_click_outside","_resolveDirective","CellGenomePreview","placeholder","_Fragment","_renderList","_vShow","color","String","Number","canvasCtx","startObservingCanvasSizeChange","stopObservingCanvasSizeChange","drawDroplet","w","h","gradient","createLinearGradient","clippedValue","addColorStop","clearRect","strokeStyle","fillStyle","lineWidth","beginPath","moveTo","lineTo","arc","stroke","fill","selectedGenomeEntry","newNullGenome","GenomePigmentColorDropletIcon","PropertiesSubheader","GenomePigmentsEditor","GenomeSelector","_isRef","GenomeEditor","src","_imports_0","alt","_imports_1","toolsManager","PropertiesTabbedPanel","tabs","PropertiesTab","bodies","PropertiesTabBody","GenomeLibraryEditor","WorldSettings","tools","tool","ToolButton","currentTool","icon","GenomeLibrary","query","entry","toLowerCase","includes","GenomeLibraryEntry","AppPreferences","ToolsManager","dispatchEvent","AddCellTool","require","onSelect","onUnselect","RemoveCellTool","SelectionTool","TEMPORARY_DEBUG","genomeLibrary","WorldViewer","ControlsPanel","app","createApp","App","directive","mounted","el","binding","clickOutsideEvent","contains","document","body","beforeUnmount","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","n","getter","__esModule","d","definition","o","defineProperty","enumerable","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}